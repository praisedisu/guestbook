<!DOCTYPE html>
<html>
    <link rel="stylesheet" href="../html/quadratic calculator/bootstrap.css">
    <head>

    </head>
    <body class="container bg-light">
        <h1 class="text-center">Guest Book</h1>
        <div>
            <div role="form">
                <div class="form-inline py-4">
                    <div class="form-group col-4">
                        <label for="Name">Name:</label>
                        <input type="text" required class="form-control" id="name"/>
                    </div>
                    <div class="form-group col-4">
                        <label for="Address">Address:</label>
                        <input type="text" required class="form-control" id="address"/>
                    </div>
                    <div class="form-group col-4">
                        <label for="phone">Phone:</label>
                        <input type="tel" required class="form-control" id="phone"/>
                    </div>
                </div>
                <div>
                    <div class="form-group">
                        <label for="Email">Email:</label>
                        <input type="email" class="form-control" id="email"/>
                    </div>
                    <div class="form-group">
                        <label for="Date">Date:</label>
                        <input type="date" required class="form-control" id="date"/>
                    </div>
                </div>
                <div class="form-group">
                    <label for="hobbies">hobbies:</label>
                    <textarea name="hobbies" id="hobbies" cols="30" rows="10" class="form-control"></textarea>
                </div>
                <div>
                    <button type="button" class="btn btn-success" onclick="register()">Submit</button>
                </div>
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th>S/N</th>
                        <th>Name</th>
                        <th>Address</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Date</th>
                        <th>Hobbies</th>
                    </tr>
                </thead>
                <tbody id="tbody">
                </tbody>
            </table>
        </div>
        <script>
            retrieve()

            function register(){
                
                let name = document.getElementById("name").value
                let address = document.getElementById("address").value
                let phone = document.getElementById("phone").value
                let email = document.getElementById("email").value
                let date = document.getElementById("date").value
                let hobbies = document.getElementById("hobbies").value
                
                let guestinfo = {guestname : name, guestaddress: address, guestphone: phone, guestemail: email,
                datereg: date, guesthobbies: hobbies}

                let Guest = JSON.stringify(guestinfo)
                localStorage.setItem("g" , Guest)

                const g = localStorage.getItem("g")
                let guest = JSON.parse(g)                
            }

            function retrieve(){
                const tableBody = document.getElementById("tbody")
                const row = document.createElement('tr')
                const output = `
                    <td>1</td>
                    <td>${guest.guestname}</td>
                    <td>${guest.guestaddress}</td>
                    <td>${guest.guestphone}</td>
                    <td>${guest.guestemail}</td>
                    <td>${guest.datereg}</td>
                    <td>${guest.guesthobbies}</td>
                `

                row.innerHTML = output.trim()
                tableBody.appendChild(row)
            }
        </script>
    </body>
</html>